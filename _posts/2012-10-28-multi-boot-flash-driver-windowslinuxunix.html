---
layout: post
title: 'Multi-boot flash driver : windows/linux/unix'
date: 2012-10-28 22:20:14.000000000 +08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- System
tags: []
meta:
  _publicize_pending: '1'
author:
  login: mcloud
  email: ''
  display_name: mcloud
  first_name: ''
  last_name: ''
---
<p>grub4dos can boot from defragment iso (tools winconfig make file derage)</p>
<p><span style="color:#ff0000;">map --head=0 --sectors-per-track=0 xxx.iso (0xff)</span></p>
<p><span style="color:#ff0000;">map --hook</span></p>
<p>then</p>
<p>windows: Â <span style="color:#ff0000;">chainloader (0xff)</span></p>
<p>unix : <span style="color:#ff0000;">kernel / initrd / boot</span></p>
<p>&nbsp;</p>
<p># This is a sample menu.lst file. You should make some changes to it.<br />
# The old install method of booting via the stage-files has been removed.<br />
# Please install GRLDR boot strap code to MBR with the bootlace.com<br />
# utility under DOS/Win9x or Linux.</p>
<p>#color blue/green yellow/red white/magenta white/magenta<br />
timeout 30<br />
default /default</p>
<p>title find and boot winpe(64bit).ISO<br />
find --set-root /iso/winpe.iso<br />
map /iso/winpe.iso (0xff) || map --mem /iso/winpe.iso (0xff)<br />
map --hook<br />
chainloader (0xff)<br />
savedefault --wait=2</p>
<p>title find and boot win8.ISO<br />
find --set-root /iso/en_windows_8_x64_dvd_915440.iso<br />
map /iso/en_windows_8_x64_dvd_915440.iso (0xff) || map --mem /iso/en_windows_8_x64_dvd_915440.iso (0xff)<br />
map --hook<br />
chainloader (0xff)<br />
savedefault --wait=2</p>
<p>title Ubuntu-server i386<br />
find --set-root /iso/ubuntu-12.10-server-amd64.iso<br />
map --heads=0 --sectors-per-track=0 /iso/ubuntu-12.10-server-amd64.iso (0xff)<br />
map --hook<br />
rootnoverify (0xff)<br />
kernel /install/vmlinuz file=/cdrom/preseed/ubuntu-server.seed boot=install splash quiet --<br />
initrd /install/initrd.gz<br />
title Ubuntu-desktop i386<br />
find --set-root /iso/ubuntu-12.10-desktop-amd64.iso<br />
map --heads=0 --sectors-per-track=0 /iso/ubuntu-12.10-desktop-amd64.iso (0xff)<br />
map --hook<br />
root (0xff)<br />
kernel /casper/vmlinuz file=/cdrom/preseed/ubuntu.seed noprompt boot=/casper only-ubiquity iso-scan/filename=/iso/ubuntu-12.10-desktop-amd64.iso<br />
initrd /casper/initrd.lz<br />
title commandline<br />
commandline</p>
<p>title back to dos<br />
quit</p>
<p>title reboot<br />
reboot</p>
<p>title halt<br />
halt</p>
