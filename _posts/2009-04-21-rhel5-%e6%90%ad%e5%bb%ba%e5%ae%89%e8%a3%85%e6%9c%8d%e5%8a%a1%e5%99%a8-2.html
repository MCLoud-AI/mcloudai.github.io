---
layout: post
title: RHEL5 搭建安装服务器
date: 2009-04-21 18:48:00.000000000 +08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Unix/Linux
tags: []
meta:
  blogger_blog: everydaydreamy.blogspot.com
  blogger_author: yangyilong
  blogger_5db691c6560366c0233000029746f2a2_permalink: '5337489795584481843'
author:
  login: mcloud
  email: ''
  display_name: mcloud
  first_name: ''
  last_name: ''
---
<p>由于上课的需要，让实验室的同学们能直接安装系统，所以就搭建了安装服务器，有好多天了，但是怕以后忘了，这里整理一下</p>
<p>下面多部分为转帖，还有一些自己的想法，只要是能用就好</p>
<p><strong>一、配置DHCP服务<br /></strong>安装dhpc<br />vi /etc/dhcpd.conf</p>
<p>QUOTE:
<div class="msgbody">
<div class="msgborder">ddns-update-style interim;<br />ignore  client-updates;<br /><strong>allow booting;<br />allow bootp;</strong><br /><strong>class  "pxeclients"{<br />match if substring(option vendor-class-identifier,0,9)  = "PXEClient";<br />filename "pxelinux.0";<br />next-server  192.168.96.254;<br />}</strong><br />subnet 192.168.96.0 netmask 255.255.255.0 {<br />option routers                  192.168.96.254;<br />option  subnet-mask              255.255.255.0;<br />option nis-domain                "linux.5166.info";<br />option domain-name               "linux.5166.info";<br />option domain-name-servers       202.106.46.151;<br />option time-offset              -18000; # Eastern  Standard Time<br />range dynamic-bootp 192.168.96.100 192.168.96.200;<br />default-lease-time 21600;<br />max-lease-time 43200;<br />host  linux {<br />hardware ethernet 00:11:43:5A:5D:46;<br />fixed-address 192.168.96.254;<br />}<br />}</div>
<p></div>
<p>
<div class="msgborder"></div>
<p>
<div class="msgborder"><strong>二、配置TFTP</strong><br />安装<br />chkconfig tftp on<br />service xinetd  restart<br />====================================================================<br /><strong>三、启动文件配置</strong><br />cp  /usr/lib/syslinux/pxelinux.0 /tftpboot/<br />mkdir  /tftpboot/pxelinux.cfg<br /><strong>mount -o loop /export/RHEL5dvd.iso /mnt</strong><br />cp  /mnt/isolinux/isolinux.cfg /tftpboot/pxelinux.cfg/default<br />cp  /mnt/images/pxeboot/initrd.img /tftpboot/<br />cp /mnt/images/pxeboot/vmlinuz  /tftpboot/</p>
<p>vi /tftpboot/pxelinux.cfg/default
<div class="msgbody">
<div class="msgheader">QUOTE:</div>
<p></div>
<p>
<div class="msgborder"><strong>default </strong><strong>autoinstall  //这里设置的就是按回车，服务器相应的那个</strong><br />prompt 1<br />timeout 300<br />display  boot.msg<br />F1 boot.msg<br />F2 options.msg<br />F3 general.msg<br />F4  param.msg<br />F5 rescue.msg</div>
<p>
<div class="msgborder">label linux  install<br />kernel vmlinuz<br />append initrd=initrd.img<br />label linux  text<br />kernel vmlinuz<br />append initrd=initrd.img text<br />label linux  ks<br />kernel vmlinuz<br />append ks initrd=initrd.img<br />label linux  memtest86<br />kernel memtest<br />append -<br /><strong>label  autoinstall</strong><br /><strong> kernel vmlinuz<br />append  ks=http:/127.0.0.1/ks.cfg  initrd=initrd.img<br /></strong></div>
<p>cp /mnt/isolinux/*.msg  /tftpboot<br />vi /tftpboot/boot.msg</div>
<p>
<div class="msgborder">写入自己的提示信息。不写也可以</div>
<p>
<div class="msgborder"></div>
<p>
<div class="msgborder">这样开机从网卡引导就可以了</div>
<p>
<div class="msgborder">直接按回车全自动安装，输入linux进入普通安装方式</div>
<p>
<div class="msgborder"></div>
<p>
<div class="msgborder">总结一下，这个网络安装只是代替光盘做系统的stage1的启动。其他的还都一样</div>
<div class="blogger-post-footer"><img width="1" height="1" src="{{ site.baseurl }}/assets/" alt="" /></div>
