---
layout: post
title: andoird2.3 初试
date: 2011-08-08 08:27:00.000000000 +08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags: []
meta:
  blogger_blog: everydaydreamy.blogspot.com
  blogger_author: yangyilong
  blogger_5db691c6560366c0233000029746f2a2_permalink: '7101822504686982159'
  _edit_last: '1'
  _wpcom_is_markdown: '1'
author:
  login: mcloud
  email: ''
  display_name: mcloud
  first_name: ''
  last_name: ''
---
<p>前阵刷了2.3一直没有调试，直接在用，app2sd就是挂的，swap也没开启</p>
<p>1.分区</p>
<p>用recovery分的区，应该可以建议直接adb后fdisk</p>
<p>sd卡对应名字在/dev/block下</p>
<p>2. 格式化</p>
<p>recovery里面的格式化工具无用，直接adb后，mke2fs 到ext2, june2fs -j到ext3</p>
<p>3. 挂载</p>
<p>重启之后是挂载了，看了看直接用bash脚本挂载的，在init下</p>
<p>4.开启swap</p>
<p>mkswap，swapon</p>
<p>但是只能临时的，很多人用swapper，其他根本没必要只要找到启动脚本即可，尝试了init的几个脚本，无效后把启动命令加入到之前生成的sd卡挂载文件后，OK了。。。。</p>
<p>注意：system是read-only的，所以需要进行mount -w -o remount .之后就可以改了</p>
<p>5. 重启后</p>
<p>还是无法move2sd, 看了下ext分区啥都没有，想起来2.2当时鸡肋的app2sd,没移动一个创建一个分区，效率极低，所以手动将/data下</p>
<p>data app app-private 移动到ext分区后，删除做好ln -s xxx yyy,符号链接就OK了</p>
<p>6.重启后，运行软件一切OK</p>
<p>free看swap OK</p>
<p>df -h 看OK</p>
<p>一切OK</p>
<p>记录完毕
<div class="blogger-post-footer"><img width="1" height="1" src="{{ site.baseurl }}/assets/" alt="" /></div>
