---
layout: post
title: java 中 this 与 super 运用（转帖）
date: 2008-09-13 14:23:00.000000000 +08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Programming
tags: []
meta:
  blogger_blog: everydaydreamy.blogspot.com
  blogger_author: yangyilong
  blogger_5db691c6560366c0233000029746f2a2_permalink: '4111926882426197512'
author:
  login: mcloud
  email: ''
  display_name: mcloud
  first_name: ''
  last_name: ''
---
<p><font size="3"><strong>this用法</strong></font> </p>
<p>this的用法在java中大体可以分为3种:</p>
<p style="width:95%;border:windowtext .5pt solid;padding:4px 5.4pt;"><img align="top" src="{{ site.baseurl }}/assets/None.gif" /><span style="color:#008000;">//</span><span style="color:#008000;">1.普通的直接引用 </span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedBlock.gif" /></span><span style="color:#0000ff;">class</span><span style="color:#000000;"> test </span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />   </span><span style="color:#0000ff;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;">int</span><span style="color:#000000;"> x,y; <br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedSubBlock.gif" />   </span><span style="color:#0000ff;">public</span><span style="color:#000000;"> test(</span><span style="color:#0000ff;">int</span><span style="color:#000000;"> x,</span><span style="color:#0000ff;">int</span><span style="color:#000000;"> y) </span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />       setX(x);</span><span style="color:#008000;">//</span><span style="color:#008000;">也可以写为this.setX(x);这种情况下this可以省略.</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockEnd.gif" /></span><span style="color:#000000;">   }</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockEnd.gif" />}</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/None.gif" /></span><span style="color:#008000;">//</span><span style="color:#008000;">2.方法中的某个形参名与当前对象的某个成员有相同的名字.为了不混淆,使用this区分有this引用的是成员,没有this是形参</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/None.gif" /></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedBlock.gif" /></span><span style="color:#0000ff;">class</span><span style="color:#000000;"> test </span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />   </span><span style="color:#0000ff;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;">int</span><span style="color:#000000;"> x,y; <br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedSubBlock.gif" />   </span><span style="color:#0000ff;">public</span><span style="color:#000000;"> test(</span><span style="color:#0000ff;">int</span><span style="color:#000000;"> x,</span><span style="color:#0000ff;">int</span><span style="color:#000000;"> y) </span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />       setX(x);</span><span style="color:#008000;">//</span><span style="color:#008000;">也可以写为this.setX(x);这种情况下this可以省略.</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockEnd.gif" /></span><span style="color:#000000;">   }</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedSubBlock.gif" />   setX(</span><span style="color:#0000ff;">int</span><span style="color:#000000;"> x)</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />       </span><span style="color:#0000ff;">this</span><span style="color:#000000;">.x </span><span style="color:#000000;">=</span><span style="color:#000000;"> x;</span><span style="color:#008000;">//</span><span style="color:#008000;">this.x是引用的对象,x是setX(int x)中的行参x</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockEnd.gif" /></span><span style="color:#000000;">   }</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockEnd.gif" />}</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/None.gif" /></span><span style="color:#008000;">//</span><span style="color:#008000;">3.引用构造函数</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedBlock.gif" /></span><span style="color:#0000ff;">class</span><span style="color:#000000;"> test</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />    </span><span style="color:#0000ff;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;">int</span><span style="color:#000000;"> x,y;<br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedSubBlock.gif" />    </span><span style="color:#0000ff;">public</span><span style="color:#000000;"> test(</span><span style="color:#0000ff;">int</span><span style="color:#000000;"> x,</span><span style="color:#0000ff;">int</span><span style="color:#000000;"> y)</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />        </span><span style="color:#0000ff;">this</span><span style="color:#000000;">.x </span><span style="color:#000000;">=</span><span style="color:#000000;"> x;<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />        </span><span style="color:#0000ff;">this</span><span style="color:#000000;">.y </span><span style="color:#000000;">=</span><span style="color:#000000;"> y;<br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedSubBlock.gif" />    </span><span style="color:#0000ff;">public</span><span style="color:#000000;"> test()</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />         </span><span style="color:#0000ff;">this</span><span style="color:#000000;">.(</span><span style="color:#000000;">2</span><span style="color:#000000;">,</span><span style="color:#000000;">0</span><span style="color:#000000;">)</span><span style="color:#008000;">//</span><span style="color:#008000;">构造函数调用其他构造函数的方法,这个例子调用上面那个复用构造函数的方法</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockEnd.gif" /></span><span style="color:#000000;">    }</span></span><span style="color:#000000;"> <br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockEnd.gif" />}</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/None.gif" /></span></p>
<p><strong><font size="3">super用法</font></strong></p>
<p>我一度认为只能作用在构造函数中,这种想法是错误的.</p>
<p style="width:95%;border:windowtext .5pt solid;padding:4px 5.4pt;"><img align="top" src="{{ site.baseurl }}/assets/None.gif" /><span style="color:#008000;">//</span><span style="color:#008000;">1.super运用在构造函数中</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedBlock.gif" /></span><span style="color:#0000ff;">class</span><span style="color:#000000;"> test1 extend test</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedSubBlock.gif" />    </span><span style="color:#0000ff;">public</span><span style="color:#000000;"> test1()</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />         </span><span style="color:#0000ff;">super</span><span style="color:#000000;">();</span><span style="color:#008000;">//</span><span style="color:#008000;">调用父类的构造函数 </span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockEnd.gif" /></span><span style="color:#000000;">    }</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedSubBlock.gif" />    </span><span style="color:#0000ff;">public</span><span style="color:#000000;"> test1(</span><span style="color:#0000ff;">int</span><span style="color:#000000;"> x)</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" />         </span><span style="color:#0000ff;">super</span><span style="color:#000000;">(x);</span><span style="color:#008000;">//</span><span style="color:#008000;">调用父类的构造函数,因为带形参所以super 也要带行参 </span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockEnd.gif" /></span><span style="color:#000000;">    }</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockEnd.gif" />}</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/None.gif" /></span><span style="color:#008000;">//</span><span style="color:#008000;">2.调用父类中的成员</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedBlock.gif" /></span><span style="color:#0000ff;">class</span><span style="color:#000000;"> test1 extend test</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{<br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedSubBlock.gif" />    </span><span style="color:#0000ff;">public</span><span style="color:#000000;"> test1()</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{}</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockStart.gif" /><img align="top" src="{{ site.baseurl }}/assets/ContractedSubBlock.gif" />    </span><span style="color:#0000ff;">public</span><span style="color:#000000;"> f()</span><span style="border:#808080 1px solid;">...</span><span><span style="color:#000000;">{</span><span style="color:#008000;">//</span><span style="color:#008000;">假如父类里有一个成员叫g();</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/InBlock.gif" /></span><span style="color:#000000;">         </span><span style="color:#0000ff;">super</span><span style="color:#000000;">.g();</span><span style="color:#008000;">//</span><span style="color:#008000;">super引用当前对象的直接父类中的成员</span><span style="color:#008000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedSubBlockEnd.gif" /></span><span style="color:#000000;">    }</span></span><span style="color:#000000;"><br /><img align="top" src="{{ site.baseurl }}/assets/ExpandedBlockEnd.gif" />}</span></span></p>
<p>super 用在构造函数时要放在第一行,相当于调用super就刷新了构造函数</p>
<p>super.g() 调用的成员 它引用当前对象的直接父类中的成员(用来访问直接父类中被隐藏的父类中成员数据或函数，基类与派生类中<strong>有相同成员定义时</strong>)  </p>
<p><strong><span class="Title"><strong><font size="3">有相同成员定义时</font></strong></span> </strong></p>
<p>这句话含义深刻 !</p>
<p>以上是个人理解如有错误请指出!
<div class="blogger-post-footer"><img width="1" height="1" src="{{ site.baseurl }}/assets/" alt="" /></div></p>
